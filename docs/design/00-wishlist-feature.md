# 핵심 기능 사용자 스토리와 기능 흐름

## 1. 상품 좋아요 기능

### 사용자 스토리 (User Story)
- 로그인한 사용자는 관심 있는 상품에 좋아요를 표시하거나 취소할 수 있다.

### 기능 흐름 (Functional Flow)
1. 사용자는 로그인 상태여야 한다.
2. 사용자가 상품의 좋아요 버튼을 누른다.
3. 해당 상품에 대한 사용자의 좋아요 기록이 있는지 확인한다.
4. 기록이 없으면 좋아요를 저장한다.
5. 기록이 있으면 좋아요를 삭제한다.

## 2. 장바구니 담기 기능

### 사용자 스토리 (User Story)
- 사용자는 로그인한 상태에서 장바구니에 상품을 담을 수 있다.
- 해당 상품이 장바구니에 이미 존재한다면 수량을 증가시킨다.
- 장바구니에 동일한 상품이 없다면 새 항목을 추가한다.

### 기능 흐름 (Functional Flow)
1. 로그인 사용자만 가능
2. 상품의 판매 상태 및 재고를 확인한다.
3. 장바구니에 동일 상품이 있는지 확인한다.
4. 동일 상품이 있으면 수량을 증가시키고, 없으면 새 항목을 추가한다.
5. 장바구니 저장에 성공하면 응답한다.

## 3. 주문 생성 기능

### 사용자 스토리 (User Story)
- 로그인한 사용자는 여러 상품을 선택하여 한 번에 주문하고 결제할 수 있다.

### 기능 흐름 (Functional Flow)
1. 사용자는 로그인 상태여야 한다.
2. 사용자는 주문할 상품들과 수량을 선택한다.
3. 선택된 상품들의 존재 여부, 판매 상태, 재고, 수량 유효성, 그리고 사용자의 포인트 잔액을 검증한다.
4. 모든 검증이 통과하면 재고를 차감하고, 포인트를 차감하며, 주문 정보를 저장한다.
5. 주문 정보를 외부 시스템으로 전송한다.

## 4. 상품 목록 조회 기능

### 사용자 스토리 (User Story)
- 사용자는 다양한 조건(브랜드, 정렬 등)으로 상품 목록을 조회할 수 있다.
- 사용자는 상품 목록을 페이지 단위로 탐색할 수 있다.

### 기능 흐름 (Functional Flow)
1. 사용자는 상품 목록 조회 페이지에 접근한다.
2. 시스템은 기본 정렬 및 필터링 조건에 따라 상품 목록을 제공한다.
3. 사용자는 브랜드, 카테고리, 가격 범위, 정렬 기준 등을 선택하여 상품 목록을 필터링하거나 정렬할 수 있다.
4. 시스템은 요청된 조건에 맞는 상품 목록을 페이지 단위로 반환한다.